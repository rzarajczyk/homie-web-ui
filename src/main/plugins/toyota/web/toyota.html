<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart Home</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="toyota.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>">
</head>
<body>

<div class="contatiner">


    <nav>
        <div class="row">
            <div class="col s12">
                <div class="nav-wrapper">
                    <a href="#!" class="brand-logo">Smart Home</a>
                    <a href="#" data-target="mobile-nav" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                    <ul id="desktop-nav" class="right hide-on-med-and-down"></ul>
                </div>
            </div>
        </div>
    </nav>

    <ul class="sidenav" id="mobile-nav"></ul>

    <div id="main">
        <div class="row">
            <div class="col l2 hide-on-med-and-down"></div>

            <div class="col s12 m6 l4">
                <div class="card">
                    <div class="card-image">
                        <img src="corolla.jpg" id="toyota-img" />
                    </div>
                    <div class="card-content">
                        <span class="card-title">Toyota Corolla</span>
                        <table>
                            <tbody>
                                <tr>
                                    <td>Fuel left:</td>
                                    <td id="fuel-left"></td>
                                </tr>
                                <tr>
                                    <td>Odometer</td>
                                    <td id="odometer"></td>
                                </tr>
                            <tr>
                                <td>VIN</td>
                                <td id="vin"></td>
                            </tr>
                            <tr>
                                <td>Plates</td>
                                <td id="plates"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col s12 m6 l4">
                <div class="card">
                    <div class="card-image">
                        <div id="parking-map"></div>
                    </div>
                    <div class="card-content">
                        <span class="card-title">Parking place</span>
                        <table>
                            <tbody>
                                <tr>
                                    <td>Latitude</td>
                                    <td id="parking-lat"></td>
                                </tr>
                                <tr>
                                    <td>Longitude</td>
                                    <td id="parking-lon"></td>
                                </tr>
                                <tr>
                                    <td>Date</td>
                                    <td id="parking-date"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col l2 hide-on-med-and-down"></div>
        </div>
        <div class="row">
            <div class="col s12">
                <table id="trips" class="highlight">
                </table>
            </div>
        </div>
    </div>

</div>

<div id="trip-modal" class="modal no-autoinit">
    <div class="modal-content">
        <div id="trip-map"></div>
        <table>
            <tbody>
                <tr>
                    <td>Distance</td>
                    <td id="stat-distance"></td>
                </tr>
                <tr>
                    <td>Duration</td>
                    <td id="stat-duration"></td>
                </tr>
                <tr>
                    <td>Max speed</td>
                    <td id="stat-max-speed"></td>
                </tr>
                <tr>
                    <td>Avg speed</td>
                    <td id="stat-avg-speed"></td>
                </tr>
                <tr>
                    <td>Fuel consumption (per trip)</td>
                    <td id="stat-total-fuel"></td>
                </tr>
                <tr>
                    <td>Fuel consumption (average per 100 km)</td>
                    <td id="stat-avg-fuel"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
</div>

<div id="loading-modal" class="modal">
    <div class="modal-content">
        Loading...
        <div class="progress">
            <div class="indeterminate"></div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
<script src="toyota.js"></script>
<script src="/menu.js"></script>

<script type="x-handlebars-template" id="trip-row" >
        <thead>
            <tr>
                <th>#</th>
                <th>Start date</th>
                <th>Start address</th>
                <th>End address</th>
                <th>End date</th>
            </tr>
        </thead>
        <tbody>
            {{#each trips}}
                <tr data-trip-id="{{tripId}}">
                    <td>{{@index}}</td>
                    <td>{{date startTimeGmt}}</td>
                    <td>{{address startAddress}}</td>
                    <td>{{address endAddress}}</td>
                    <td>{{date endTimeGmt}}</td>
                </tr>
            {{/each}}
        </tbody>
</script>

</body>
</html>
